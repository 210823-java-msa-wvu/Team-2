<body>
<app-navbar></app-navbar>
<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">   
</head>
<div class="container">
    <!-- <div class="header">
        <h1>FoodStagram</h1>
    </div> --><div class="allComments" id="allComments">
        <div class="posts" *ngFor="let post of posts">
            <div class="card">
            <div class="user-info">
                <p class="name">{{ post.user.firstname }}  {{ post.user.lastname }}</p>
                <p class="username">@{{ post.user.username }}</p>
            </div>
            <hr>
            <div class="post-info">
                <h5 class="title">{{ post.title }}</h5>
                <hr>
                <img class="image" src="{{ post.image_url }}">
                <div class="body">Review: {{ post.body }}</div>
                <div class="rec" *ngIf="post.recommend_rest == true">Restaurant Recommendation:</div>
                <div class="recommendedGood" *ngIf="post.recommend_rest == true && post.rating == '4' || post.rating =='5'"></div>
                <!-- <div class="rec">Restaurant Recommended </div> -->
                <div class="recommendedMaybe" *ngIf="post.recommend_rest == true && post.rating == '3' || post.rating =='2'"></div>                
                <!-- <div class="rec">Restaurant Rating is Wack!</div> -->
                <div class="recommendedBad" *ngIf="post.recommend_rest == true && post.rating == '1'"></div>
                <div class="rating5" *ngIf="post.rating == '5'"></div>
                <div class="rating4" *ngIf="post.rating == '4'"></div>
                <div class="rating3" *ngIf="post.rating == '3'"></div>
                <div class="rating2" *ngIf="post.rating == '2'"></div>
                <div class="rating1" *ngIf="post.rating == '1'"></div>
            </div> 
            <!-- <button (click)="openComments"> Show Comments</button> -->
            <div class="comments" *ngFor="let comment of getComments(post)">
                <hr>
                <div class="user-info">
                    <!-- <p class="name">{{ comment.user.firstname }} {{ comment.user.lastname }}</p> -->
                    <p class="username">@{{ comment.user.username }} </p>
                </div>
                
                <div class="comment-info">
                    <div class="cbody">{{ comment.comment_body }}</div>
                </div>
                <!-- <hr> -->
            </div>

            <div>
                <hr>
                <label for="comment">
                    Comment:
                    <br>
                    <input type="text" name="comment" id="comment" #comment ngModel>
                </label>
                <br>
                <button type="button" class="btn-submit"
                (click)="addComment({comment_body: comment.value, postId: post.id })">Post
                </button>
            </div>
        </div>
        
        </div>
</div>
    </div>


>



<div class="post-button">
<app-new-post-button></app-new-post-button>
</div>
