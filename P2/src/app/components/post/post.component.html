<body>
<app-navbar></app-navbar>
<div class="container">
    <!-- <div class="header">
        <h1>FoodStagram</h1>
    </div> -->
        <div class="posts" *ngFor="let post of posts">
            <div class="card">
            <div class="user-info">
                <p class="name">{{ post.user.firstname }}  {{ post.user.lastname }}</p>
                <p class="username">@{{ post.user.username }}</p>
            </div>
            <hr>
            <div class="post-info">
                <h5 class="title">{{ post.title }}</h5>
                <hr>
                <img class="image" src="{{ post.image_url }}">
                <div class="body">Review: {{ post.body }}</div>
                <div class="rec">Recommended: {{ post.recommend_rest }}</div>
                <div class="rating">{{ post.rating }} Stars</div>
            </div> 
            <div class="comments" *ngFor= "let comment of comments">
                <div class="user-info">
                    <p class="name">{{ post.comment.user.firstname }} {{ post.comment.user.lastname }}</p>
                    <p class="username">@{{ post.comment.user.username }} </p>
                </div>
                <div class="comment-info">
                    <h5>{{ post.comment.comment_header }}</h5>
                    <div class="cbody">{{ post.comment.comment_body }}</div>

                </div>

            </div>
            <div>
                <button type="button" class="btn" id="comment" (click)="gotoComment()" >Comment</button> 
           </div>
        </div>
        </div>
    </div>

<div class="comment-popup" id="commentForm">
    <form>
        <label for="comment">
            Comment:
            <br>
            <input type="text" name="comment" id="comment" #comment ngModel>
        </label>
        <br>
        <button type="button" class="btn-submit"
        (click)="addComment({comment_body: comment.value})">Post
        </button>
        <br>
        <button type="button" class="cancel" (click)="cancel()">Cancel</button>
    </form>
</div>


<div class="post-button">
<app-new-post-button></app-new-post-button>
</div>
